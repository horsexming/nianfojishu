<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<%@ taglib prefix="s" uri="/struts-tags"%>
<%@ taglib uri="/WEB-INF/fenye.tld" prefix="fenye"%>
<%
	String path = request.getContextPath();
	String basePath = request.getScheme() + "://"
			+ request.getServerName() + ":" + request.getServerPort()
			+ path + "/";
%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<%@include file="/util/sonHead.jsp"%>
		<style type="text/css">
			.table{
				border:0px solid #999;
				border-width: 1px;
				border-collapse:collapse;
			}
			.table th,.table td {
				border-width: 1px;
				padding: 0px;
			}
			
			.subTable{
				text-align: center;
				border-collapse:collapse;
				width: 100%;
				border-width:1px; 
				border-style:hidden;
			}
		</style>
	</head>
	<body style="text-align: center;">
			<div align="center">
				<div id="printDiv" style="width: 100%;">
					<div style=" font-size: 24px;">检验图表</div>
					<table border="0" width="100%" class="table" cellspacing="0" cellpadding="0">
						<!-- 1 -->
						<tr align="center">
							<td rowspan="15"><img style="width: 500px;" src="<%=basePath%>images/hanjie.png"/></td>
							<td>操作序号</td>
							<td>操作顺序</td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
							<td>&nbsp;</td>
						</tr>
						<!-- 2 -->
						<tr align="center">
							<td rowspan="5">1</td>
							<td rowspan="5">操作顺序</td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
							<td rowspan="14">异常处理检查要领内容</td>
						</tr>
						<!-- 3 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 4 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 5 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 6 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 7 -->
						<tr align="center">
							<td rowspan="6">2</td>
							<td rowspan="6">操作顺序</td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 8 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 9 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 10 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 11 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 12 -->
						<tr align="center">
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 12 -->
						<tr align="center">
							<td>3</td>
							<td>将12030020S00总成</td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 12 -->
						<tr align="center">
							<td></td>
							<td></td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 12 -->
						<tr align="center">
							<td></td>
							<td></td>
							<td>检查项目</td>
							<td>目视</td>
							<td>判断标准</td>
							<td>100%</td>
						</tr>
						<!-- 13 -->
						<tr>
							<td colspan="8">
								<table class="subTable">
									<tr>
										<td>件名</td>
										<td>件名</td>
										<td>工序名称</td>
										<td>终检</td>
										<td>型别</td>
										<td>华泰B3</td>
										<td>编制</td>
										<td>审核</td>
										<td>批准</td>
										<td rowspan="2">会签</td>
										<td>加工</td>
										<td>品质</td>
									</tr>
									<tr>
										<td>件号</td>
										<td>120300020S00</td>
										<td>工序名称</td>
										<td>工序号</td>
										<td>35</td>
										<td>工装编号</td>
										<td>SHG360-283</td>
										<td>审核</td>
										<td>批准</td>
										<td>加工</td>
										<td>品质</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div style="width: 794px;text-align: center;margin: 0 auto;">
				<form id="markingForm" method="post"
					style="">
					<input type="hidden" id="id" name="gongyiGuichengScore.id" value=""/>
					<input type="hidden" id="gongyiGuichengId" name="gongyiGuichengScore.gongyiGuichengId" value=""/>
				<table id="jyxmlq" style="display: block;">
					<tr>
						<td><span>序号栏：</span></td>
						<td>
							<label for="xingbieScore1">正确</label>
							<input type="radio" id="xingbieScore1" name="gongyiGuichengScore.xuhaoScoreJyxmlq" value="2" checked="checked"/>
							<label for="xingbieScore2">错误</label>
							<input type="radio" id="xingbieScore2" name="gongyiGuichengScore.xuhaoScoreJyxmlq" value="0"/>
							<label for="xingbieScore3">漏填</label>
							<input type="radio" id="xingbieScore3" name="gongyiGuichengScore.xuhaoScoreJyxmlq" value="-2"/>
						</td>
					</tr>
					<tr>
						<td><span>检验项目栏：</span></td>
						<td>
							<label for="xingbieScore1">正确</label>
							<input type="radio" id="xingbieScore1" name="gongyiGuichengScore.xiangmuScoreJyxmlq" value="2" checked="checked"/>
							<label for="xingbieScore2">错误</label>
							<input type="radio" id="xingbieScore2" name="gongyiGuichengScore.xiangmuScoreJyxmlq" value="0"/>
							<label for="xingbieScore3">漏填</label>
							<input type="radio" id="xingbieScore3" name="gongyiGuichengScore.xiangmuScoreJyxmlq" value="-2"/>
						</td>
					</tr>
					<tr>
						<td><span>测量器具：</span></td>
						<td>
							<label for="xingbieScore1">正确</label>
							<input type="radio" id="xingbieScore1" name="gongyiGuichengScore.qijuScoreJyxmlq" value="2" checked="checked"/>
							<label for="xingbieScore2">错误</label>
							<input type="radio" id="xingbieScore2" name="gongyiGuichengScore.qijuScoreJyxmlq" value="0"/>
							<label for="xingbieScore3">漏填</label>
							<input type="radio" id="xingbieScore3" name="gongyiGuichengScore.qijuScoreJyxmlq" value="-2"/>
						</td>
					</tr>
					<tr>
						<td><span>测定频率：</span></td>
						<td>
							<label for="xingbieScore1">正确</label>
							<input type="radio" id="xingbieScore1" name="gongyiGuichengScore.cedingPinlvScoreJyxmlq" value="2" checked="checked"/>
							<label for="xingbieScore2">错误</label>
							<input type="radio" id="xingbieScore2" name="gongyiGuichengScore.cedingPinlvScoreJyxmlq" value="0"/>
							<label for="xingbieScore3">漏填</label>
							<input type="radio" id="xingbieScore3" name="gongyiGuichengScore.cedingPinlvScoreJyxmlq" value="-2"/>
						</td>
					</tr>
					<tr>
						<td><span>辅助栏：</span></td>
						<td>
							<label for="xingbieScore1">正确</label>
							<input type="radio" id="xingbieScore1" name="gongyiGuichengScore.fuzhuScoreJyxmlq" value="2" checked="checked"/>
							<label for="xingbieScore2">错误</label>
							<input type="radio" id="xingbieScore2" name="gongyiGuichengScore.fuzhuScoreJyxmlq" value="0"/>
							<label for="xingbieScore3">漏填</label>
							<input type="radio" id="xingbieScore3" name="gongyiGuichengScore.fuzhuScoreJyxmlq" value="-2"/>
						</td>
					</tr>
				</table>
				<table style="width: 100%;text-align: center;border: 0px;">
					<tr>
						<td><input type="button" id="markingButton" value="打分" class="input" /><input type="button" id="print" value="打印" class="input" onclick="pagePrint('printDiv')" /></td>
					</tr>
				</table>
				</form>
			</div>
		<!-- JAVASCRIPT脚本写在下面 (这样页面加载速度会快一些)-->
	</body>
</html>
<script type="text/javascript">
$(function(){
	//$("form table:visible").css('display','none');
	var gongyiGuichengId='${gongyiGuicheng.id}';
	$.ajax({
		type: "get",
		dataType: "json",
        url: "gongyiGuichengScoreAction!getGongyiGuichengScoreBygongyiGuichengId.action",
        data:{'gongyiGuichengScore.gongyiGuichengId': gongyiGuichengId},
		async: true,
		success: function(data){
			var success=data.success;
			if(success){
				var gongyiGuichengScore=data.data;
				$('#id').val(gongyiGuichengScore.id);
				$('#gongyiGuichengId').val(gongyiGuichengScore.gongyiGuichengId);
				$("input[name='gongyiGuichengScore.xuhaoScoreJyxmlq'][value="+gongyiGuichengScore.xuhaoScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.xiangmuScoreJyxmlq'][value="+gongyiGuichengScore.xiangmuScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.qijuScoreJyxmlq'][value="+gongyiGuichengScore.qijuScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.cedingPinlvScoreJyxmlq'][value="+gongyiGuichengScore.cedingPinlvScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.fuzhuScoreJyxmlq'][value="+gongyiGuichengScore.fuzhuScoreJyxmlq+"]").attr("checked",true);
			}
		}
	});
	$('#markingButton').bind('click',function(){
		var param=$('#markingForm').serialize();
		$.ajax({
			type: "get",
			dataType: "json",
	        url: "gongyiGuichengScoreAction!updateGongyiGuichengScore.action",
	        data:$('#markingForm').serialize(),
			async: false,
			success: function(data){
				var success=data.success;
				if(success){
					var gongyiGuichengScore=data.data;
				$('#id').val(gongyiGuichengScore.id);
				$('#gongyiGuichengId').val(gongyiGuichengScore.gongyiGuichengId);
				$("input[name='gongyiGuichengScore.xuhaoScoreJyxmlq'][value="+gongyiGuichengScore.xuhaoScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.xiangmuScoreJyxmlq'][value="+gongyiGuichengScore.xiangmuScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.qijuScoreJyxmlq'][value="+gongyiGuichengScore.qijuScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.cedingPinlvScoreJyxmlq'][value="+gongyiGuichengScore.cedingPinlvScoreJyxmlq+"]").attr("checked",true);
				$("input[name='gongyiGuichengScore.fuzhuScoreJyxmlq'][value="+gongyiGuichengScore.fuzhuScoreJyxmlq+"]").attr("checked",true);
					alert('打分成功!');
				}else{
					alert('打分失败!');
				}
			}
		});
	});
});
</script>
